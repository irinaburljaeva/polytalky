<!DOCTYPE html>

<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>English Intro ‚Äî –£—Ä–æ–∫ 8: –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</title>
  <base href="/">
  <link rel="icon" type="image/jpg" href="/assets/favicon.jpg">

  <!-- Tailwind -->

  <script src="https://cdn.tailwindcss.com"></script>

  <!-- –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫—É—Ä—Å–∞ English Intro -->

  <link rel="stylesheet" href="/courses/english-intro/english-intro.css">

  <!-- Firebase init -->

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBAU_uMTePpKwVNZNhqk2pss2PuSitGfQI",
      authDomain: "polytalky-70999.firebaseapp.com",
      projectId: "polytalky-70999",
      storageBucket: "polytalky-70999.firebasestorage.app",
      messagingSenderId: "62407152289",
      appId: "1:62407152289:web:b0c0efdb2472f12b10d6e0"
    };

    window.firebaseApp  = initializeApp(firebaseConfig);
    window.firebaseAuth = getAuth(window.firebaseApp);
    window.firebaseDb   = getFirestore(window.firebaseApp);
  </script>

  <style>
    .hidden { display: none; }

    /* –°—Ç–∏–ª–∏ –¥–ª—è drag & drop —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è */
    .word-chip {
      display: inline-block;
      background: #fff;
      border: 1px solid #d1d5db;
      padding: 8px 14px;
      border-radius: 10px;
      cursor: grab;
      font-size: 0.9rem;
      transition: 0.15s;
      user-select: none;
      margin: 4px;
    }

    .word-chip:active {
      cursor: grabbing;
      transform: scale(1.05);
    }

    .word-bank {
      min-height: 80px;
      border: 2px dashed #cbd5e1;
      border-radius: 14px;
      padding: 12px;
      background: #f8fafc;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      margin-bottom: 12px;
    }

    .sentence-builder {
      min-height: 80px;
      border: 2px dashed #fbbf24;
      border-radius: 14px;
      padding: 12px;
      background: #fffef5;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .sentence-builder.correct {
      border-color: #22c55e;
      background: #f0fdf4;
    }

    .sentence-builder.wrong {
      border-color: #ef4444;
      background: #fef2f2;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–¥–∞–Ω–∏–π —Å –≤–≤–æ–¥–æ–º —Ç–µ–∫—Å—Ç–∞ */
    .question-input {
      width: 100%;
      min-height: 100px;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 12px;
      font-size: 0.95rem;
      font-family: inherit;
      resize: vertical;
      transition: border-color 0.2s;
    }

    .question-input:focus {
      outline: none;
      border-color: #fbbf24;
      box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.1);
    }

    .counter {
      font-size: 0.85rem;
      color: #6b7280;
      text-align: right;
      margin-top: 4px;
    }

    /* –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ */
    .schema-box {
      background: linear-gradient(135deg, #f5602a 0%, #f5a52a 100%);
      border-radius: 16px;
      padding: 30px;
      margin: 25px 0;
      color: white;
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    }

    .schema-parts {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
    }

    .schema-part {
      background: rgba(255, 255, 255, 0.95);
      color: #f5602a;
      padding: 12px 20px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 0.95rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s ease;
    }

    .schema-part:hover {
      transform: translateY(-3px);
    }

    .schema-arrow {
      font-size: 1.5rem;
      color: rgba(255, 255, 255, 0.7);
    }

    .example-box {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-top: 15px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .example-box h4 {
      color: #f56629;
      font-weight: 700;
      margin-bottom: 12px;
      font-size: 1.1rem;
    }

    .example-item {
      padding: 10px 0;
      border-bottom: 1px solid #f3f4f6;
      font-size: 0.95rem;
      color: #374151;
    }

    .example-item:last-child {
      border-bottom: none;
    }

    .example-en {
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 4px;
    }

    .example-ru {
      color: #6b7280;
      font-size: 0.9rem;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .feedback-message {
      animation: slideIn 0.4s ease;
      padding: 15px 20px;
      border-radius: 12px;
      margin-top: 15px;
      font-size: 0.95rem;
    }

    .feedback-correct {
      background: #d1fae5;
      border-left: 4px solid #10b981;
      color: #065f46;
    }

    .feedback-wrong {
      background: #fee2e2;
      border-left: 4px solid #ef4444;
      color: #991b1b;
    }

    .feedback-info {
      background: #FFE8E8;
      border-left: 4px solid #A64545;
      color: #A64545;
    }
  </style>

</head>

<body>

<!-- –§–æ–Ω–æ–≤—ã–µ –±—É–∫–≤—ã -->

<div class="bg-letter a">?</div>
<div class="bg-letter e">Q</div>
<div class="bg-letter i">W</div>
<div class="bg-letter o">H</div>
<div class="bg-letter u">Y</div>

<!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->

<header class="top-bar sticky top-0 z-40">
  <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
    <a href="/" class="flex items-center gap-2 font-semibold text-[0.9rem] text-[#374151]">
      <img src="/assets/logo.png" alt="PolyTalky" class="w-7 h-7">
      PolyTalky
    </a>

<div class="flex items-center gap-3 text-[0.78rem] text-gray-600">
  <div id="user-status"></div>

<a href="/student/feedback.html"
id="feedback-link"
class="hidden relative flex items-center justify-center w-9 h-9 rounded-full border border-gray-300 bg-white">
üì©
<span id="feedback-dot"
class="hidden absolute -top-1 -right-1 w-3 h-3 rounded-full bg-red-500 ring-2 ring-white"></span>
</a>

<a href="/student/"
target="_blank"
id="login-btn"
class="hidden border border-gray-300 rounded-full px-3 py-1.5 text-[0.75rem] text-gray-600 bg-white">
–í–æ–π—Ç–∏
</a>

<a href="/courses/english-intro/" class="back-to-course-btn">–ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</a>

</div>

  </div>
</header>

<main class="lesson-shell">
  <!-- HERO -->
  <section class="hero-card mb-8">
    <div class="hero-left">
      <div class="hero-badge">English ¬∑ Lesson 8</div>
      <h1 class="hero-title mt-3">
        –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤
        <span class="em">Present Simple</span>
      </h1>

  <p class="hero-tagline mt-3">
    –£—á–∏–º—Å—è –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
  </p>
</div>

<div class="hero-right">
  <div class="hero-right-inner">
    <div class="hero-bg-circle"></div>

<div class="hero-bubbles-cluster">
  <div class="hero-bubble hero-bubble--hello">
    Do you...?
  </div>
  <div class="hero-bubble hero-bubble--morning">
    What do...?
  </div>
  <div class="hero-bubble hero-bubble--hi">
    How does...?
  </div>
</div>
```

  </div>
</div>

  </section>

  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è —à–∞–≥–æ–≤ -->

  <div class="step-nav">
    <button class="step-dot step-dot--active" data-step="1">
      <div class="step-dot-circle">
        <img src="/assets/lessons/order.png" alt="–í–≤–µ–¥–µ–Ω–∏–µ">
      </div>
      <div class="step-dot-label">–°—Ç—Ä—É–∫—Ç—É—Ä–∞</div>
    </button>

<button class="step-dot" data-step="2">
  <div class="step-dot-circle">
    <img src="/assets/lessons/video.png" alt="–í–∏–¥–µ–æ">
  </div>
  <div class="step-dot-label">–í–∏–¥–µ–æ</div>
</button>

<button class="step-dot" data-step="3">
  <div class="step-dot-circle">
    <img src="/assets/lessons/practise.png" alt="–¢—Ä–µ–Ω–∞–∂—ë—Ä">
  </div>
  <div class="step-dot-label">–¢—Ä–µ–Ω–∞–∂—ë—Ä</div>
</button>

<button class="step-dot" data-step="4">
  <div class="step-dot-circle">
    <img src="/assets/lessons/task.png" alt="–ó–∞–¥–∞–Ω–∏–µ">
  </div>
  <div class="step-dot-label">–ü—Ä–∞–∫—Ç–∏–∫–∞</div>
</button>

<button class="step-dot" data-step="5">
  <div class="step-dot-circle">
    <img src="/assets/lessons/finish.png" alt="–§–∏–Ω–∞–ª">
  </div>
  <div class="step-dot-label">–§–∏–Ω–∏—à</div>
</button>

  </div>

  <!-- ================ –®–ê–ì 1. –°–¢–†–£–ö–¢–£–†–ê –í–û–ü–†–û–°–û–í ================ -->

  <section id="step-1" class="step-panel step-panel--visible">
    <div class="step-panel-header">
      <span class="step-pill">–®–∞–≥ 1 ¬∑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤</span>
      <button class="step-icon" type="button" data-open-qa>‚ùì</button>
    </div>

<h2 class="text-xl md:text-2xl font-bold mb-3">
  –ö–∞–∫ —Å—Ç—Ä–æ—è—Ç—Å—è –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è?
</h2>

<p class="step-body-text mb-3">
  –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –∑–Ω–∞–∫–æ–º –≤–æ–ø—Ä–æ—Å–∞ (<b>?</b>) –∏ —Å—Ç—Ä–æ—è—Ç—Å—è –ø–æ –æ—Å–æ–±–æ–π —Å—Ö–µ–º–µ.
  –í –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–≤ –≤ –≤–æ–ø—Ä–æ—Å–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!
</p>

<div class="schema-box">
  <h3 class="text-xl font-bold mb-4 text-center">–°—Ö–µ–º–∞ –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h3>

  <div class="schema-parts">
    <div class="schema-part">–í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ</div>
    <span class="schema-arrow">‚Üí</span>
    <div class="schema-part">Do/Does</div>
    <span class="schema-arrow">‚Üí</span>
    <div class="schema-part">–ü–æ–¥–ª–µ–∂–∞—â–µ–µ</div>
    <span class="schema-arrow">‚Üí</span>
    <div class="schema-part">–ì–ª–∞–≥–æ–ª</div>
    <span class="schema-arrow">‚Üí</span>
    <div class="schema-part"> –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ</div>
  </div>

  <div class="example-box">
    <h4>–ü—Ä–∏–º–µ—Ä—ã:</h4>

<div class="example-item">
  <div class="example-en">What do you like?</div>
  <div class="example-ru">–ß—Ç–æ —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è?</div>
</div>

<div class="example-item">
  <div class="example-en">Where does she live?</div>
  <div class="example-ru">–ì–¥–µ –æ–Ω–∞ –∂–∏–≤—ë—Ç?</div>
</div>

<div class="example-item">
  <div class="example-en">How do they work?</div>
  <div class="example-ru">–ö–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç?</div>
</div>


  </div>
</div>

<div class="soft-block soft-block--blue mt-4">
  <p class="font-semibold mb-2">–í–∞–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å:</p>
  <ul class="list-disc ml-5 text-sm space-y-2">
    <li>–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –≥–ª–∞–≥–æ–ª <b>Do</b> –æ–±—ã—á–Ω–æ –Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è</li>
    <li>–î–ª—è he/she/it –∏—Å–ø–æ–ª—å–∑—É–µ–º <b>Does</b> (–æ—Å–Ω–æ–≤–Ω–æ–π –≥–ª–∞–≥–æ–ª-—Å–∫–∞–∑—É–µ–º–æ–µ —É–∂–µ –±–µ–∑ -s!)</li>
    <li>–í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–ª–æ–≤–∞ –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å ‚Äî —ç—Ç–æ <b>–æ–±—â–∏–π –≤–æ–ø—Ä–æ—Å</b></li>
    <li>–ù–∞ –æ–±—â–∏–π –≤–æ–ø—Ä–æ—Å –æ—Ç–≤–µ—á–∞—é—Ç <b>Yes/–î–∞</b> –∏–ª–∏ <b>No/–ù–µ—Ç</b></li>
  </ul>
</div>

<div class="soft-block soft-block--green mt-4">
  <p class="font-semibold mb-2"> –ü—Ä–∏–º–µ—Ä—ã –æ–±—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (–±–µ–∑ –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–ª–æ–≤–∞):</p>

  <div class="example-item">
    <div class="example-en">Do you speak English?</div>
    <div class="example-ru">–¢—ã –≥–æ–≤–æ—Ä–∏—à—å –ø–æ-–∞–Ω–≥–ª–∏–π—Å–∫–∏?</div>
  </div>

  <div class="example-item">
    <div class="example-en">Does he like coffee?</div>
    <div class="example-ru">–û–Ω –ª—é–±–∏—Ç –∫–æ—Ñ–µ?</div>
  </div>
</div>

<button class="btn-main mt-6 next-step-btn" data-next="2">
  –ü–µ—Ä–µ–π—Ç–∏ –∫ –≤–∏–¥–µ–æ ‚Üí
</button>

  </section>

  <!-- ================ –®–ê–ì 2. –í–ò–î–ï–û ================ -->

  <section id="step-2" class="step-panel">
    <div class="step-panel-header">
      <span class="step-pill">–®–∞–≥ 2 ¬∑ –í–∏–¥–µ–æ</span>
      <button class="step-icon" type="button" data-open-qa>‚ùì</button>
    </div>

<h2 class="text-xl md:text-2xl font-bold mb-3">
  –°–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
</h2>

<p class="step-body-text mb-4">
  –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–¥–µ–æ –∏ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–≤ –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö,
  –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –≥–ª–∞–≥–æ–ª <b>do/does</b>.
</p>

<div class="flex justify-center mt-4">
<div style="position: relative; padding-top: 56.25%; width: 100%"><iframe src="https://kinescope.io/embed/dAqoVFnG22xjc4fe22Jrwh" allow="autoplay; fullscreen; picture-in-picture; encrypted-media; gyroscope; accelerometer; clipboard-write; screen-wake-lock;" frameborder="0" allowfullscreen style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;"></iframe></div>
</div>

<div class="soft-block mt-5">
  <p class="text-sm">
    <b>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏–∑ –≤–∏–¥–µ–æ:</b>
  </p>
  <ul class="list-disc ml-5 text-sm mt-2 space-y-1">
    <li>–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –≥–ª–∞–≥–æ–ª –≤—Å–µ–≥–¥–∞ –∏–¥—ë—Ç –ø–µ—Ä–µ–¥ –ø–æ–¥–ª–µ–∂–∞—â–∏–º</li>
    <li>Does –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å he/she/it</li>
    <li>–ü–æ—Å–ª–µ does –æ—Å–Ω–æ–≤–Ω–æ–π –≥–ª–∞–≥–æ–ª —Ç–µ—Ä—è–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏–µ -s</li>
  </ul>
</div>

<button class="btn-main mt-6 next-step-btn" data-next="3">
  –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ç—Ä–µ–Ω–∞–∂—ë—Ä—É ‚Üí
</button>

  </section>

  <!-- ================ –®–ê–ì 3. –¢–†–ï–ù–ê–ñ–Å–† ================ -->

  <section id="step-3" class="step-panel">
    <div class="step-panel-header">
      <span class="step-pill">–®–∞–≥ 3 ¬∑ –¢—Ä–µ–Ω–∞–∂—ë—Ä</span>
      <button class="step-icon" type="button" data-open-qa>‚ùì</button>
    </div>

<h2 class="text-xl md:text-2xl font-bold mb-3">
  –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
</h2>

<p class="step-body-text mb-4">
  –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å–ª–æ–≤–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏–ª—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å.
  –ü–æ–º–Ω–∏—Ç–µ –æ —Å—Ö–µ–º–µ: –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ ‚Üí do/does ‚Üí –ø–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –≥–ª–∞–≥–æ–ª ‚Üí –æ—Å—Ç–∞–ª—å–Ω–æ–µ.
</p>

<!-- –í–æ–ø—Ä–æ—Å 1 -->

<div class="mb-6" id="question-1-block">
  <p class="text-sm font-semibold text-gray-700 mb-2">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 3</p>
  <p class="text-sm text-gray-600 mb-3">–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ: "–ì–¥–µ —Ç—ã –∂–∏–≤—ë—à—å?"</p>

  <div id="word-bank-1" class="word-bank">
    <!-- –°–ª–æ–≤–∞ –¥–æ–±–∞–≤—è—Ç—Å—è JS -->
  </div>

  <div id="sentence-builder-1" class="sentence-builder">
    <span class="text-gray-400 text-sm">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å–ª–æ–≤–∞ —Å—é–¥–∞...</span>
  </div>

  <div id="feedback-1"></div>
</div>

<!-- –í–æ–ø—Ä–æ—Å 2 -->

<div class="mb-6 hidden" id="question-2-block">
  <p class="text-sm font-semibold text-gray-700 mb-2">–í–æ–ø—Ä–æ—Å 2 –∏–∑ 3</p>
  <p class="text-sm text-gray-600 mb-3">–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ: "–ß—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç?"</p>

  <div id="word-bank-2" class="word-bank">
  </div>

  <div id="sentence-builder-2" class="sentence-builder">
    <span class="text-gray-400 text-sm">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å–ª–æ–≤–∞ —Å—é–¥–∞...</span>
  </div>

  <div id="feedback-2"></div>
</div>

<!-- –í–æ–ø—Ä–æ—Å 3 -->

<div class="mb-6 hidden" id="question-3-block">
  <p class="text-sm font-semibold text-gray-700 mb-2">–í–æ–ø—Ä–æ—Å 3 –∏–∑ 3</p>
  <p class="text-sm text-gray-600 mb-3">–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ: "–¢—ã –ª—é–±–∏—à—å —Å–ø–æ—Ä—Ç?"</p>

  <div id="word-bank-3" class="word-bank">
  </div>

  <div id="sentence-builder-3" class="sentence-builder">
    <span class="text-gray-400 text-sm">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å–ª–æ–≤–∞ —Å—é–¥–∞...</span>
  </div>

  <div id="feedback-3"></div>
</div>

<button id="next-btn-step3" class="btn-main mt-6 next-step-btn hidden" data-next="4">
  –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ ‚Üí
</button>

  </section>

  <!-- ================ –®–ê–ì 4. –ü–†–ê–ö–¢–ò–ö–ê ================ -->

  <section id="step-4" class="step-panel">
    <div class="step-panel-header">
      <span class="step-pill">–®–∞–≥ 4 ¬∑ –ü—Ä–∞–∫—Ç–∏–∫–∞ –ø–∏—Å—å–º–∞</span>
      <button class="step-icon" type="button" data-open-qa>‚ùì</button>
    </div>

<h2 class="text-xl md:text-2xl font-bold mb-3">
  –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã
</h2>

<p class="step-body-text mb-3">
  –î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–∞–∫—Ç–∏–∫—É–µ–º—Å—è! –ù–∞–ø–∏—à–∏—Ç–µ <b>5-10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ Present Simple</b>,
  –∏—Å–ø–æ–ª—å–∑—É—è –ª–µ–∫—Å–∏–∫—É –ø–æ —Ç–µ–º–µ <b>"–ß–∞—Å—Ç–∏ —Ç–µ–ª–∞"</b>.
</p>

<div class="soft-block soft-block--blue mb-4">
  <p class="font-semibold mb-2">–°–ª–æ–≤–∞ –¥–ª—è –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è:</p>
  <div class="flex flex-wrap gap-2 text-sm">
    <span class="word-chip">head (–≥–æ–ª–æ–≤–∞)</span>
    <span class="word-chip">eyes (–≥–ª–∞–∑–∞)</span>
    <span class="word-chip">hands (—Ä—É–∫–∏)</span>
    <span class="word-chip">legs (–Ω–æ–≥–∏)</span>
    <span class="word-chip">heart (—Å–µ—Ä–¥—Ü–µ)</span>
    <span class="word-chip">face (–ª–∏—Ü–æ)</span>
    <span class="word-chip">fingers (–ø–∞–ª—å—Ü—ã)</span>
    <span class="word-chip">body (—Ç–µ–ª–æ)</span>
  </div>
</div>

<p class="step-body-text text-sm mb-3">
  <b>–ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:</b><br>
  ‚Ä¢ Do you wash your hands before eating?<br>
  ‚Ä¢ Does she have blue eyes?<br>
  ‚Ä¢ What do you do when your head hurts?
</p>

<textarea 
  id="questions-input" 
  data-task-id="questions-text"
  class="question-input" 
  placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã –∑–¥–µ—Å—å. –ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏"></textarea>

<div class="counter" id="question-counter">0 –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞–ø–∏—Å–∞–Ω–æ</div>

<div id="step4-feedback" class="hidden"></div>

<button id="step4-submit" class="btn-main mt-5">
  –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å—ã ‚Üí
</button>

<button id="next-btn-step4" class="btn-main mt-5 next-step-btn hidden" data-next="5">
  –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫ ‚Üí
</button>

  </section>

  <!-- ================ –®–ê–ì 5. –§–ò–ù–ê–õ ================ -->

  <section id="step-5" class="step-panel">
    <div class="step-panel-header">
      <span class="step-pill">–®–∞–≥ 5 ¬∑ –§–ò–ù–ê–õ</span>
      <button class="step-icon" type="button" data-open-qa>‚ùì</button>
    </div>

<h2 class="text-xl md:text-2xl font-bold mb-3">
  –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! üéâ
</h2>

<p class="step-body-text mb-3">
  –í–æ—Ç –º—ã –∏ –≤—Å—Ç—É–ø–∏–ª–∏ –æ–¥–Ω–æ–π –Ω–æ–≥–æ–π –Ω–∞ —ç—Ç–æ–≥–æ —É–∂–∞—Å–Ω–æ–≥–æ –∑–≤–µ—Ä—è –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º <b>Tenses</b>!
  –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞—Ä–∞—Ç—å—Å—è –∑–∞–ø–æ–º–Ω–∏—Ç—å –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–∞—Å–∞—Ç–µ–ª—å–Ω–æ <b>Simple</b>, –∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è,
  –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –∏ –µ—â—ë —Ä–∞–∑ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è!
</p>

<div class="flex justify-center my-5">
  <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExZGhnMmJrOHFxYWZ5bWk3dzJzeDF3MGg1MzhmeDluZDhsMzllMGdtNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/inVTEIKYPeqR2/giphy.gif" alt="Finish gif"
       class="w-64 h-auto rounded-2xl">
</div>

<div class="summary-box">
      <h3>–ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏:</h3>
      <ul>
    <li>‚úì –°—Ç—Ä—É–∫—Ç—É—Ä—É –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ Present Simple</li>
    <li>‚úì –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –≥–ª–∞–≥–æ–ª–æ–≤ do/does</li>
    <li>‚úì –†–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –æ–±—â–∏–º–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏</li>
    <li>‚úì –ü—Ä–∞–∫—Ç–∏–∫—É —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤</li>
  </ul>
</div>

<p class="step-body-text mb-4">
  –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî –∏ —Å–∫–æ—Ä–æ –≤—ã –±—É–¥–µ—Ç–µ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏,
  –Ω–µ –∑–∞–¥—É–º—ã–≤–∞—è—Å—å –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ!
</p>

<p class="text-center text-lg font-semibold text-red-600 mb-4">
  See you soon! üëã
</p>

<div class="mt-5 flex flex-wrap gap-3">
  <button class="btn-main" id="open-vocab-btn">
    –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–≤–∞ –≤ —Å–ª–æ–≤–∞—Ä–∏–∫ ‚Üí
  </button>

  <a href="/courses/english-intro/lesson-09.html" class="btn-ghost">
    –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–∫—É
  </a>

 </div>

  </section>

  <!-- –ú–û–î–ê–õ–ö–ê Q&A -->

  <div id="qa-modal"
       class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden items-center justify-center z-50 p-4">

<div class="bg-white max-w-lg w-full rounded-2xl shadow-xl relative overflow-hidden">
  <div class="absolute -top-8 -left-8 w-36 h-36 rounded-full bg-[#FFE8B3] blur-xl opacity-60"></div>
  <div class="absolute -bottom-10 -right-10 w-40 h-40 rounded-full bg-[#FFD6C4] blur-xl opacity-60"></div>

  <div class="relative p-6 space-y-4">
    <div class="flex justify-between items-start gap-4">
      <div>
        <h2 class="text-lg font-semibold text-gray-800">
          –í–æ–ø—Ä–æ—Å—ã –ø–æ —É—Ä–æ–∫—É
        </h2>
        <p class="text-sm text-gray-600 mt-1">
          –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å ‚Äî –º—ã –æ—Ç–≤–µ—Ç–∏–º –∏ –æ—Ç–≤–µ—Ç —É–≤–∏–¥—è—Ç –¥—Ä—É–≥–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏.
        </p>
      </div>

  <button id="qa-close"
          class="text-gray-500 text-xl leading-none">&times;</button>
</div>

<div class="bg-amber-50 border border-amber-200 rounded-xl p-3 text-xs text-amber-800">
  –•–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –µ—â—ë –±—ã—Å—Ç—Ä–µ–µ –∏ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∫—É—Ä–∞—Ç–æ—Ä—É –ª–∏—á–Ω–æ?  
  <a href="/courses/pro.html" target="_blank" class="underline text-amber-700 font-semibold">–¢–∞—Ä–∏—Ñ PRO</a> –¥–∞—ë—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –∏ –±–æ–ª—å—à–µ –≤–Ω–∏–º–∞–Ω–∏—è –∫ –≤–∞—à–∏–º –≤–æ–ø—Ä–æ—Å–∞–º üíõ
</div>

<div class="max-h-64 overflow-y-auto border border-gray-100 rounded-xl p-3 bg-gray-50/70"
     id="qa-list">
  <p class="text-xs text-gray-500">
    –ü–æ–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–µ—Ç ‚Äî –≤—ã –º–æ–∂–µ—Ç–µ –±—ã—Ç—å –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –∑–∞–¥–∞—Å—Ç –≤–æ–ø—Ä–æ—Å üôÇ
  </p>
</div>

<form id="qa-form" class="space-y-2">
  <label class="block text-xs text-gray-600">
    –í–∞—à –≤–æ–ø—Ä–æ—Å:
  </label>
  <textarea id="qa-text"
            class="w-full border border-gray-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-300"
            rows="3"
            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å do, –∞ –∫–æ–≥–¥–∞ does?¬ª"></textarea>

  <p class="text-[0.7rem] text-gray-400">
    –ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å, –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç.  
    –ï—Å–ª–∏ –≤—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
    <a href="/student/" class="underline">–≤—Ö–æ–¥–∞ / —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</a>.
  </p>

  <div class="flex justify-end‚Äù>
<button type="submit"
id="qa-submit"
class="btn-main text-sm px-4 py-1.5">
–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å ‚Üí
</button>

</div>
</form>

  </div>
</div>

  </div>

  <!-- –ú–û–î–ê–õ–ö–ê –°–õ–û–í–ê–†–ò–ö–ê -->

  <div id="vocab-modal"
       class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden items-center justify-center z-50 p-4">

<div class="bg-white max-w-lg w-full rounded-2xl shadow-xl relative overflow-hidden">

  <div class="absolute -top-8 -left-8 w-36 h-36 rounded-full bg-[#FFE8B3] blur-xl opacity-70"></div>
  <div class="absolute -bottom-10 -right-10 w-40 h-40 rounded-full bg-[#FFD6C4] blur-xl opacity-70"></div>

  <div class="relative p-6">
    
    <div class="flex justify-between items-start">
      <h2 class="text-lg font-semibold text-gray-800">
        –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–≤–∞ –≤ —Å–ª–æ–≤–∞—Ä–∏–∫
      </h2>

      <button id="vocab-close" class="text-gray-500 text-xl leading-none">&times;</button>
    </div>

    <p class="text-sm text-gray-600 mt-1">
      –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å. –û–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –≤–∞—à–µ–º —Å–ª–æ–≤–∞—Ä–∏–∫–µ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç–µ.
    </p>

    <div id="vocab-auth-warning"
         class="hidden mt-4 bg-red-50 text-red-700 border border-red-200 rounded-xl p-3 text-sm">
      –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–ª–æ–≤–∞, –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç.
      <br>
      <a href="/student" class="underline font-medium">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Üí</a>
    </div>

    <div id="vocab-list" class="mt-5 space-y-5 max-h-[330px] overflow-y-auto pr-1">

      <div class="vocab-category" data-category="–ß–∞—Å—Ç–∏ —Ç–µ–ª–∞">
        <h3 class="text-[0.8rem] font-semibold text-gray-700 mb-2 flex items-center gap-1">
          üë§ –ß–∞—Å—Ç–∏ —Ç–µ–ª–∞
        </h3>

        <div id="vocab-vowels" class="grid grid-cols-1 gap-2 pl-1">
        </div>
      </div>

    </div>

    <div class="mt-6 flex justify-between items-center">

      <button id="vocab-select-all"
              class="px-4 py-2 rounded-xl bg-gray-100 text-sm text-gray-700 border border-gray-300">
        –í—ã–±—Ä–∞—Ç—å –≤—Å—ë
      </button>

      <button id="vocab-save"
              class="btn-main text-sm px-5 py-2">
        –î–æ–±–∞–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ ‚Üí
      </button>

    </div>

  </div>
</div>

  </div>

</main>

<!-- ============================= -->

<!-- –ö–û–ù–§–ò–ì –£–†–û–ö–ê (–í–ê–ñ–ù–û!) -->

<!-- ============================= -->

<script type="module">
  window.lessonConfig = {
    lessonId:        "english-intro-lesson-8",
    lessonSlug:      "lesson-08-questions",
    courseId:        "english-intro",
    courseTitle:     "–ò–Ω—Ç–µ–Ω—Å–∏–≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ",
    lessonTitle:     "–£—Ä–æ–∫ 8 - –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è",
    lessonQaDocId:   "english-intro-lesson-8",
    submissionsRoot: "lessonSubmissions",
    totalSteps:      5,
    audioNextStep:   null,
    vocabCategory:   "–ß–∞—Å—Ç–∏ —Ç–µ–ª–∞",
    hasHelloTask:    false,
    // –°–ª–æ–≤–∞—Ä–∏–∫ –¥–ª—è —É—Ä–æ–∫–∞ 8
    customVocab: [
      { word: "head", ru: "–≥–æ–ª–æ–≤–∞" },
      { word: "eyes", ru: "–≥–ª–∞–∑–∞" },
      { word: "hands", ru: "—Ä—É–∫–∏" },
      { word: "legs", ru: "–Ω–æ–≥–∏" },
      { word: "heart", ru: "—Å–µ—Ä–¥—Ü–µ" },
      { word: "face", ru: "–ª–∏—Ü–æ" },
      { word: "fingers", ru: "–ø–∞–ª—å—Ü—ã" },
      { word: "body", ru: "—Ç–µ–ª–æ" },
      { word: "ears", ru: "—É—à–∏" },
      { word: "nose", ru: "–Ω–æ—Å" },
      { word: "mouth", ru: "—Ä–æ—Ç" },
      { word: "teeth", ru: "–∑—É–±—ã" },
      { word: "hair", ru: "–≤–æ–ª–æ—Å—ã" },
      { word: "feet", ru: "—Å—Ç—É–ø–Ω–∏" },
      { word: "arms", ru: "—Ä—É–∫–∏ (–æ—Ç –ø–ª–µ—á–∞)" }
    ]
  };
</script>

<script>
// =========================================================
// üî∏ –®–ê–ì 3 ‚Äî DRAG & DROP –¢–†–ï–ù–ê–ñ–Å–† (3 –≤–æ–ø—Ä–æ—Å–∞)
// =========================================================

const dragQuestions = [
  {
    words: ["Where", "do", "you", "live", "?"],
    correct: "Where do you live ?"
  },
  {
    words: ["What", "does", "she", "do", "?"],
    correct: "What does she do ?"
  },
  {
    words: ["Do", "you", "like", "sport", "?"],
    correct: "Do you like sport ?"
  }
];

let currentDragQuestion = 0;
let currentSentence = [];
let draggedElement = null;
let touchStartPos = { x: 0, y: 0 };

function initDragQuestion() {
  const questionData = dragQuestions[currentDragQuestion];
  const n = currentDragQuestion + 1;
  
  const wordBank = document.getElementById(`word-bank-${n}`);
  const sentenceBuilder = document.getElementById(`sentence-builder-${n}`);
  const feedback = document.getElementById(`feedback-${n}`);
  
  if (!wordBank || !sentenceBuilder) return;
  
  currentSentence = [];
  feedback.innerHTML = "";
  sentenceBuilder.classList.remove("correct", "wrong");
  
  wordBank.innerHTML = "";
  sentenceBuilder.innerHTML = '<span class="text-gray-400 text-sm">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å–ª–æ–≤–∞ —Å—é–¥–∞...</span>';
  
  const shuffled = [...questionData.words].sort(() => Math.random() - 0.5);
  
  shuffled.forEach(word => {
    const chip = document.createElement("div");
    chip.className = "word-chip";
    chip.textContent = word;
    chip.draggable = true;
    
    // Desktop drag
    chip.addEventListener("dragstart", (e) => {
      draggedElement = chip;
      e.dataTransfer.effectAllowed = "move";
    });
    
    // Mobile touch
    chip.addEventListener("touchstart", handleTouchStart);
    chip.addEventListener("touchmove", handleTouchMove);
    chip.addEventListener("touchend", handleTouchEnd);
    
    chip.addEventListener("click", () => selectWordDrag(word, chip));
    
    wordBank.appendChild(chip);
  });
  
  // Drop zone events
  sentenceBuilder.addEventListener("dragover", (e) => {
    e.preventDefault();
  });
  
  sentenceBuilder.addEventListener("drop", (e) => {
    e.preventDefault();
    if (draggedElement) {
      const word = draggedElement.textContent;
      selectWordDrag(word, draggedElement);
    }
  });
}

function handleTouchStart(e) {
  draggedElement = e.currentTarget;
  const touch = e.touches[0];
  touchStartPos = { x: touch.clientX, y: touch.clientY };
}

function handleTouchMove(e) {
  e.preventDefault();
  const touch = e.touches[0];
  const dx = Math.abs(touch.clientX - touchStartPos.x);
  const dy = Math.abs(touch.clientY - touchStartPos.y);
  
  if (dx > 10 || dy > 10) {
    // Visual feedback for dragging
  }
}

function handleTouchEnd(e) {
  const touch = e.changedTouches[0];
  const n = currentDragQuestion + 1;
  const sentenceBuilder = document.getElementById(`sentence-builder-${n}`);
  
  if (!sentenceBuilder) return;
  
  const rect = sentenceBuilder.getBoundingClientRect();
  
  if (
    touch.clientX >= rect.left && touch.clientX <= rect.right &&
    touch.clientY >= rect.top && touch.clientY <= rect.bottom
  ) {
    const word = draggedElement.textContent;
    selectWordDrag(word, draggedElement);
  }
  
  draggedElement = null;
}

function selectWordDrag(word, chip) {
  const n = currentDragQuestion + 1;
  const sentenceBuilder = document.getElementById(`sentence-builder-${n}`);
  const feedback = document.getElementById(`feedback-${n}`);
  
  if (!sentenceBuilder || !feedback) return;
  
  currentSentence.push(word);
  chip.remove();
  
  renderDragSentence();
  
  const joined = currentSentence.join(" ");
  const correct = dragQuestions[currentDragQuestion].correct;
  
  if (joined === correct) {
    sentenceBuilder.classList.add("correct");
    feedback.innerHTML = '<div class="feedback-message feedback-correct">‚úì –û—Ç–ª–∏—á–Ω–æ! –í–æ–ø—Ä–æ—Å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</div>';
    
    setTimeout(() => {
      currentDragQuestion++;
      
      if (currentDragQuestion >= dragQuestions.length) {
        document.getElementById("next-btn-step3").classList.remove("hidden");
        feedback.innerHTML = '<div class="feedback-message feedback-info">üéâ –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã! –ú–æ–∂–Ω–æ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ.</div>';
        return;
      }
      
      for (let i = 1; i <= 3; i++) {
        const block = document.getElementById(`question-${i}-block`);
        if (block) block.classList.add("hidden");
      }
      
      document.getElementById(`question-${currentDragQuestion + 1}-block`)?.classList.remove("hidden");
      
      requestAnimationFrame(() => {
        initDragQuestion();
      });
    }, 1500);
    
    return;
  }
  
  if (!correct.startsWith(joined)) {
    sentenceBuilder.classList.add("wrong");
    feedback.innerHTML = '<div class="feedback-message feedback-wrong">‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑!</div>';
    
    setTimeout(() => {
      currentSentence = [];
      sentenceBuilder.classList.remove("wrong");
      feedback.innerHTML = "";
      initDragQuestion();
    }, 1500);
  }
}

function renderDragSentence() {
  const n = currentDragQuestion + 1;
  const sentenceBuilder = document.getElementById(`sentence-builder-${n}`);
  
  if (!sentenceBuilder) return;
  
  sentenceBuilder.innerHTML = "";
  
  currentSentence.forEach(word => {
    const chip = document.createElement("div");
    chip.className = "word-chip";
    chip.textContent = word;
    sentenceBuilder.appendChild(chip);
  });
}

// Initialize first drag question
initDragQuestion();

// =========================================================
// üî∏ –®–ê–ì 4 ‚Äî –ü–†–ê–ö–¢–ò–ö–ê –ü–ò–°–¨–ú–ê (–° –°–û–•–†–ê–ù–ï–ù–ò–ï–ú –î–õ–Ø PRO)
// =========================================================

const questionsInput = document.getElementById("questions-input");
const questionCounter = document.getElementById("question-counter");
const step4Submit = document.getElementById("step4-submit");
const step4Feedback = document.getElementById("step4-feedback");
const step4NextBtn = document.getElementById("next-btn-step4");

function countQuestions(text) {
  if (!text.trim()) return 0;
  
  const lines = text.split("\n").filter(line => {
    const trimmed = line.trim();
    return trimmed.length > 0 && trimmed.includes("?");
  });
  
  return lines.length;
}

if (questionsInput && questionCounter) {
  questionsInput.addEventListener("input", () => {
    const count = countQuestions(questionsInput.value);
    questionCounter.textContent = `${count} ${count === 1 ? '–≤–æ–ø—Ä–æ—Å' : count < 5 ? '–≤–æ–ø—Ä–æ—Å–∞' : '–≤–æ–ø—Ä–æ—Å–æ–≤'} –Ω–∞–ø–∏—Å–∞–Ω–æ`;
  });
}

if (step4Submit) {
  step4Submit.addEventListener("click", async () => {
    const text = questionsInput.value.trim();
    const count = countQuestions(text);
    
    if (count < 5) {
      step4Feedback.className = "feedback-message feedback-wrong";
      step4Feedback.innerHTML = "‚ö†Ô∏è –ù–∞–ø–∏—à–∏—Ç–µ –º–∏–Ω–∏–º—É–º 5 –≤–æ–ø—Ä–æ—Å–æ–≤, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.";
      step4Feedback.classList.remove("hidden");
      return;
    }
    
    step4Feedback.className = "feedback-message feedback-correct";
    step4Feedback.innerHTML = "‚úì –û—Ç–ª–∏—á–Ω–æ! –í—ã –Ω–∞–ø–∏—Å–∞–ª–∏ " + count + " –≤–æ–ø—Ä–æ—Å–æ–≤. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è!";
    step4Feedback.classList.remove("hidden");
    
    step4Submit.classList.add("hidden");
    step4NextBtn.classList.remove("hidden");
    
    // üî• –°–û–•–†–ê–ù–ï–ù–ò–ï –î–õ–Ø PRO –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô
    if (window.currentUser && window.isProUser) {
      try {
        const { saveProAnswer } = await import("/js/pro-submissions.js");
        await saveProAnswer({
          db: window.firebaseDb,
          user: window.currentUser,
          submissionsRoot: window.lessonConfig.submissionsRoot,
          courseId: window.lessonConfig.courseId,
          courseTitle: window.lessonConfig.courseTitle,
          lessonId: window.lessonConfig.lessonId,
          lessonTitle: window.lessonConfig.lessonTitle,
          taskId: "questions-text",
          step: 4,
          answerText: text
        });
        
        console.log("‚úÖ –í–æ–ø—Ä–æ—Å—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—É—Ä–∞—Ç–æ—Ä–æ–º");
      } catch (e) {
        console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤:", e);
      }
    } else {
      // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ localStorage
      const key = `${window.lessonConfig.lessonId}_questions`;
      localStorage.setItem(key, text);
    }
  });
}

</script>

<!-- ============================= -->

<!-- –û–ë–©–ò–ô –°–ö–†–ò–ü–¢ –ö–£–†–°–ê (–í–ê–ñ–ù–û!) -->

<!-- ============================= -->

<script type="module" src="/js/courses/english-intro.js"></script>

</body>
</html>
