<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PolyTalky ‚Äî –ú–∞–≥–∞–∑–∏–Ω –∫—É—Ä—Å–æ–≤</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {--brand-1:#CF2C02;--brand-2:#FFBA08;--brand-3:#E85D04;}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#0f1115;color:white;}
    .btn-brand{background:var(--brand-1);color:white;padding:0.5rem 1rem;border-radius:0.75rem;font-weight:600;}
    .btn-brand:hover{background:var(--brand-3);}
    .btn-ghost{padding:0.5rem 1rem;border-radius:0.75rem;font-weight:600;color:var(--brand-1);}
    .card:hover{transform:translateY(-3px);transition:0.2s;}
  </style>
</head>
<body class="min-h-screen">
  <header class="sticky top-0 z-30 backdrop-blur bg-black/40 border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between">
      <a href="/polytalky/" class="flex items-center gap-2 font-semibold">
        <span class="inline-flex h-8 w-8 rounded-xl bg-[var(--brand-1)] items-center justify-center">üè∑Ô∏è</span>
        <span class="text-lg">PolyTalky</span>
      </a>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="/polytalky/courses/" class="opacity-80 hover:opacity-100">–ö—É—Ä—Å—ã</a>
        <a href="/polytalky/student/" class="opacity-80 hover:opacity-100">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
      </nav>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
    <div class="flex items-center justify-between mb-6 flex-wrap gap-3">
      <h1 class="text-3xl font-bold">–ú–∞–≥–∞–∑–∏–Ω –∫—É—Ä—Å–æ–≤</h1>
      <button id="cartBtn" class="btn-brand">üõí –ö–æ—Ä–∑–∏–Ω–∞ (<span id="cartCount">0</span>)</button>
    </div>

    <div id="products" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
  </main>

  <!-- Checkout modal (QR & links) -->
  <div id="payModal" class="hidden fixed inset-0 bg-black/60 items-center justify-center z-50">
    <div class="bg-white rounded-2xl p-6 max-w-2xl w-full text-gray-900">
      <div class="flex items-center justify-between">
        <h3 class="text-xl font-bold">–û–ø–ª–∞—Ç–∞</h3>
        <button class="text-sm underline" onclick="closePay()">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
      <p class="text-sm text-gray-600 mt-1">
        –°–Ω–∞—á–∞–ª–∞ –æ–ø–ª–∞—Ç–∏—Ç–µ, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ ¬´–ì–æ—Ç–æ–≤–æ¬ª ‚Äî –º—ã –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø –∏ –≤—ã—à–ª–µ–º —á–µ–∫.
      </p>

      <!-- –†–æ—Å—Å–∏—è -->
      <div id="tabRU" class="mt-4 hidden">
        <h4 class="font-semibold mb-2">–†–æ—Å—Å–∏—è</h4>
        <div class="grid sm:grid-cols-2 gap-4">
          <div class="p-3 border rounded-xl">
            <div class="font-semibold mb-2">–ÆMoney</div>
            <img src="/polytalky/assets/pay/yoomoney.jpg" alt="–ÆMoney QR" class="w-full rounded-lg mb-2">
            <a id="ymLink" class="btn-brand inline-block" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å –ÆMoney</a>
            <p class="text-xs text-gray-500 mt-2">
              –ï—Å–ª–∏ —Å—É–º–º–∞ –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–∏–ª–∞—Å—å ‚Äî –≤–≤–µ–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é.  
              –°—Å—ã–ª–∫–∞: yoomoney.ru/to/410013183449005
            </p>
          </div>
          <div class="p-3 border rounded-xl">
            <div class="font-semibold mb-2">–°–ë–ü (QR)</div>
            <img src="/polytalky/assets/pay/sberbank.png" alt="–°–ë–ü QR" class="w-full rounded-lg mb-2 border">
            <p class="text-xs text-gray-500">
              –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–∞–Ω–∫–∞ ‚Üí –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR ‚Üí –≤–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –∑–∞–∫–∞–∑–∞.
            </p>
          </div>
        </div>
      </div>

      <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã -->
      <div id="tabINT" class="mt-4 hidden">
        <h4 class="font-semibold mb-2">–î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã</h4>
        <div class="grid sm:grid-cols-2 gap-4">
          <div class="p-3 border rounded-xl">
            <div class="font-semibold mb-2">PayPal</div>
            <img src="/polytalky/assets/pay/paypal.jpg" alt="PayPal QR" class="w-full rounded-lg mb-2">
            <p class="text-sm">Email: <b>iraburljaeva@gmail.com</b></p>
            <p class="text-xs text-gray-500">
              –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—É–º–º—É –∑–∞–∫–∞–∑–∞ –∫–∞–∫ ¬´Goods &amp; Services¬ª.
            </p>
          </div>
          <div class="p-3 border rounded-xl">
            <div class="font-semibold mb-2">–õ—é–±–∞—è –∫–∞—Ä—Ç–∞</div>
            <div id="stripeLinks" class="space-y-2 text-sm"></div>
            <p class="text-xs text-gray-500">
              –°—É–º–º—ã –ø–æ –ø–æ–∑–∏—Ü–∏—è–º: –æ–ø–ª–∞—Ç–∏—Ç–µ –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–æ–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫—É—Ä—Å.
            </p>
          </div>
        </div>
      </div>

      <div class="mt-4 text-right">
        <button class="btn-ghost" onclick="closePay()">–ì–æ—Ç–æ–≤–æ</button>
      </div>
    </div>
  </div>

  <footer class="border-t border-white/10 py-8 text-sm text-white/70 mt-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between">
      <p>¬© 2025 PolyTalky. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
      <div class="flex flex-wrap gap-4">
        <a href="/polytalky/contact.html" class="opacity-80 hover:opacity-100">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <a href="/polytalky/legal/privacy.html" class="opacity-80 hover:opacity-100">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
        <a href="/polytalky/legal/offer.html" class="opacity-80 hover:opacity-100">–ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞</a>
        <a href="/polytalky/legal/cookies.html" class="opacity-80 hover:opacity-100">Cookies</a>
        <a href="/polytalky/legal/consent.html" class="opacity-80 hover:opacity-100">–°–æ–≥–ª–∞—Å–∏–µ</a>
      </div>
    </div>
  </footer>

  <script>
    const products = [
      {id:"englishwithharry",title:"English with Harry",price:15,img:"/polytalky/assets/img/englishwithharry.jpg"},
      {id:"30daysofenglish",title:"30 Days of English Challenge",price:12,img:"/polytalky/assets/img/30daysofenglish.jpg"},
      {id:"irregularverbs",title:"–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ",price:10,img:"/polytalky/assets/img/irregularverbs.jpg"},
      {id:"proespanol",title:"Pro Espa√±ol ‚Äî –æ—Ç –Ω–æ—Å–∏—Ç–µ–ª—è",price:24,img:"/polytalky/assets/img/proespanol.jpg"},
      {id:"cookit",title:"Polyglot Pack: Cook it!",price:19,img:"/polytalky/assets/img/cookit.jpg"},
      {id:"mchny",title:"Polyglot Pack: MCHNY üéÑ",price:19,img:"/polytalky/assets/img/mchny.jpg",badge:"–°—Ç–∞—Ä—Ç 25 –¥–µ–∫–∞–±—Ä—è"},
    ];

    const list = document.getElementById('products');
    const cart = JSON.parse(localStorage.getItem('pt_cart')||'[]');

    function renderProducts(){
      list.innerHTML = products.map(p=>`
        <div class="border border-white/10 bg-white/5 rounded-2xl p-4 card relative overflow-hidden">
          ${p.badge ? `<span class="absolute top-3 right-3 bg-[var(--brand-2)] text-gray-900 text-xs font-semibold px-2 py-1 rounded-lg">${p.badge}</span>`:''}
          <img src="${p.img}" alt="${p.title}" class="w-full rounded-xl mb-3">
          <h3 class="font-semibold">${p.title}</h3>
          <div class="flex items-center justify-between mt-2">
            <span class="font-bold text-lg">${p.price} ‚Ç¨</span>
            <button onclick="addToCart('${p.id}')" class="btn-brand text-sm">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </div>
      `).join('');
    }

    function addToCart(id){
      const product = products.find(p=>p.id===id);
      if(!product) return;
      cart.push(product);
      localStorage.setItem('pt_cart', JSON.stringify(cart));
      updateCartCount();
      // –ø—Ä–æ—Å—Ç–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
      const btn = event.target;
      btn.textContent = '‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ';
      btn.disabled = true;
      setTimeout(()=>{btn.textContent='–î–æ–±–∞–≤–∏—Ç—å';btn.disabled=false;},1500);
    }

    function updateCartCount(){
      document.getElementById('cartCount').textContent = cart.length;
    }

    function closePay(){document.getElementById('payModal').classList.add('hidden');}
    document.getElementById('cartBtn').onclick = ()=>{document.getElementById('payModal').classList.remove('hidden');}

    renderProducts(); updateCartCount();
  </script>
</body>
</html>
